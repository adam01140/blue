<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Custom Form Builder</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* Base styles for the entire page */
        html, body {
            height: 100%;
            margin: 0;
            display: flex;
            flex-direction: column;
            font-family: 'Montserrat', sans-serif;
            color: #333;
            background-color: #f4f4f4;
        }

        /* Header styling to match the provided design */
        header {
            background-color: #2c3e50;
            padding: 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: relative;
        }

        /* Logo styling */
        header img {
            cursor: pointer;
        }

        /* Navigation bar styling */
        nav {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 15px;
        }

        nav a {
            color: #ffffff;
            text-decoration: none;
            font-weight: bold;
            transition: color 0.3s ease;
        }

        nav a:hover {
            color: #2980b9;
        }

        /* Main content section styling */
        section {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
        }

        section h1 {
            color: #2980b9;
            font-weight: normal;
        }

        /* Container for the form builder */
        .container {
            width: 50%;
            margin: auto;
            background-color: #ffffff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        /* Styling for section blocks */
        .section-block {
            border: 1px solid #ddd;
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 5px;
            background-color: #f9f9f9;
        }

        /* Styling for question blocks */
        .question-block {
            border: 1px solid #ddd;
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 5px;
            background-color: #fff;
        }

        /* Option blocks for dropdowns and checkboxes */
        .dropdown-options,
        .checkbox-options,
        .numbered-dropdown-options {
            margin-top: 10px;
        }

        .dropdown-options input,
        .checkbox-options input,
        .numbered-dropdown-options input {
            margin-right: 5px;
        }

        /* Button styling within the form builder */
        button {
            margin-top: 10px;
            background-color: #2980b9;
            color: #ffffff;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
            display: block;
            width: 100%;
            max-width: 200px;
            margin: 10px auto;
        }

        button:hover {
            background-color: #1c598a;
        }

        /* Footer styling */
        footer {
            text-align: center;
            padding: 20px;
            background-color: #2c3e50;
            color: white;
        }

        /* Responsive design adjustments */
        @media (max-width: 768px) {
            header {
                flex-direction: column;
                padding: 10px;
            }

            nav {
                position: static;
                transform: none;
                margin-top: 10px;
            }
        }
    </style>
</head>
<body>

    <!-- Header section -->
    <header>
        <img src="logo.png" alt="Logo" width="130" height="80" onclick="location.href='index.html';">
        <nav>
            <a href="index.html">Home</a>
            <a href="forms.html">Forms</a>
            <a href="contact.html">Contact Us</a>
        </nav>
    </header>
    
    <center>
<h1>FormWiz Developer GUI</h1>

    <section>
        
        <div class="container">
            <div id="formBuilder">
                
            </div>
            <button onclick="addSection()">Add Section</button>
            <button onclick="generateAndDownloadForm()">Download Form as HTML</button>
            <button onclick="previewForm()">Preview Form</button>
        </div>
    </section>
    
    <br>

    <!-- Footer section -->
    <footer>
        &copy; 2024 Custom Form Builder. All rights reserved.
    </footer>

    <!-- JavaScript for form builder functionality -->
    <script>
        let sectionCounter = 1;
        let questionCounter = 1;

        function addSection() {
            const formBuilder = document.getElementById('formBuilder');
            const sectionBlock = document.createElement('div');
            sectionBlock.className = 'section-block';
            sectionBlock.id = `sectionBlock${sectionCounter}`;
            sectionBlock.innerHTML = `
                <h2>Section ${sectionCounter}</h2>
                <div id="questionsSection${sectionCounter}"></div>
                <button type="button" onclick="addQuestion(${sectionCounter})">Add Question to Section ${sectionCounter}</button>
                <button type="button" onclick="removeSection(${sectionCounter})">Remove Section</button>
                <hr>
            `;
            formBuilder.appendChild(sectionBlock);
            sectionCounter++;
        }

        function addQuestion(sectionId) {
            const questionsSection = document.getElementById(`questionsSection${sectionId}`);
            const questionBlock = document.createElement('div');
            questionBlock.className = 'question-block';
            questionBlock.id = `questionBlock${questionCounter}`;
            questionBlock.innerHTML = `
                <label>Question ${questionCounter}: </label>
                <input type="text" placeholder="Enter your question" id="question${questionCounter}"><br><br>
                
                <label>Question Type: </label>
                <select id="questionType${questionCounter}" onchange="toggleOptions(${questionCounter})">
                    <option value="text">Text</option>
                    <option value="radio">Yes/No</option>
                    <option value="dropdown">Dropdown</option>
                    <option value="checkbox">Checkbox</option>
                    <option value="numbered-dropdown">Numbered Dropdown</option>
                </select><br><br>

                <div id="optionsBlock${questionCounter}" class="dropdown-options" style="display: none;">
                    <label>Options: </label>
                    <div id="dropdownOptions${questionCounter}"></div>
                    <button type="button" onclick="addDropdownOption(${questionCounter})">Add Option</button>
                </div><br>

                <div id="checkboxBlock${questionCounter}" class="checkbox-options" style="display: none;">
                    <label>Checkbox Options: </label>
                    <div id="checkboxOptions${questionCounter}"></div>
                    <button type="button" onclick="addCheckboxOption(${questionCounter})">Add Option</button>
                </div><br>

                <div id="numberedDropdownBlock${questionCounter}" class="numbered-dropdown-options" style="display: none;">
                    <label>Range (e.g., 1-4): </label>
                    <input type="text" id="numberRange${questionCounter}" placeholder="Enter range (e.g., 1-4)"><br><br>
                    <label>Label for first text box: </label>
                    <input type="text" id="firstLabel${questionCounter}" placeholder="First Label"><br><br>
                    <label>Label for second text box: </label>
                    <input type="text" id="secondLabel${questionCounter}" placeholder="Second Label"><br><br>
                </div><br>

                <button type="button" onclick="removeQuestion(${questionCounter})">Remove Question</button>
            `;
            questionsSection.appendChild(questionBlock);
            questionCounter++;
        }

        function toggleOptions(questionId) {
            const questionType = document.getElementById(`questionType${questionId}`).value;
            const optionsBlock = document.getElementById(`optionsBlock${questionId}`);
            const checkboxBlock = document.getElementById(`checkboxBlock${questionId}`);
            const numberedDropdownBlock = document.getElementById(`numberedDropdownBlock${questionId}`);

            optionsBlock.style.display = questionType === 'dropdown' ? 'block' : 'none';
            checkboxBlock.style.display = questionType === 'checkbox' ? 'block' : 'none';
            numberedDropdownBlock.style.display = questionType === 'numbered-dropdown' ? 'block' : 'none';
        }

        function addDropdownOption(questionId) {
            const dropdownOptionsDiv = document.getElementById(`dropdownOptions${questionId}`);
            const optionCount = dropdownOptionsDiv.children.length + 1;

            const optionDiv = document.createElement('div');
            optionDiv.className = `option${optionCount}`;
            optionDiv.innerHTML = `
                <input type="text" id="option${questionId}_${optionCount}" placeholder="Option ${optionCount}">
                <button type="button" onclick="removeDropdownOption(${questionId}, ${optionCount})">Remove</button>
            `;
            dropdownOptionsDiv.appendChild(optionDiv);
        }

        function addCheckboxOption(questionId) {
            const checkboxOptionsDiv = document.getElementById(`checkboxOptions${questionId}`);
            const optionCount = checkboxOptionsDiv.children.length + 1;

            const optionDiv = document.createElement('div');
            optionDiv.className = `option${optionCount}`;
            optionDiv.innerHTML = `
                <input type="text" id="checkboxOption${questionId}_${optionCount}" placeholder="Option ${optionCount}">
                <button type="button" onclick="removeCheckboxOption(${questionId}, ${optionCount})">Remove</button>
            `;
            checkboxOptionsDiv.appendChild(optionDiv);
        }

        function removeDropdownOption(questionId, optionNumber) {
            const optionDiv = document.querySelector(`#dropdownOptions${questionId} .option${optionNumber}`);
            optionDiv.remove();
        }

        function removeCheckboxOption(questionId, optionNumber) {
            const optionDiv = document.querySelector(`#checkboxOptions${questionId} .option${optionNumber}`);
            optionDiv.remove();
        }

        function removeQuestion(questionId) {
            const questionBlock = document.getElementById(`questionBlock${questionId}`);
            questionBlock.remove();
        }

        function removeSection(sectionId) {
            const sectionBlock = document.getElementById(`sectionBlock${sectionId}`);
            sectionBlock.remove();
        }

        function generateAndDownloadForm() {
    let formHTML = `
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Custom Form</title>
        <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
        <style>
            /* Insert CSS styles from the GUI */
            html, body {
                height: 100%;
                margin: 0;
                display: flex;
                flex-direction: column;
                font-family: 'Montserrat', sans-serif;
                color: #333;
                background-color: #f4f4f4;
            }
            header {
                background-color: #2c3e50;
                padding: 20px;
                display: flex;
                align-items: center;
                justify-content: space-between;
                position: relative;
            }
            header img {
                cursor: pointer;
            }
            nav {
                position: absolute;
                left: 50%;
                transform: translateX(-50%);
                display: flex;
                gap: 15px;
            }
            nav a {
                color: #ffffff;
                text-decoration: none;
                font-weight: bold;
                transition: color 0.3s ease;
            }
            nav a:hover {
                color: #2980b9;
            }
            section {
                flex: 1;
                display: flex;
                align-items: center;
                justify-content: center;
                text-align: center;
            }
            section h1 {
                color: #2980b9;
                font-weight: normal;
            }
            .container {
                width: 50%;
                margin: auto;
                background-color: #ffffff;
                padding: 20px;
                border-radius: 8px;
                box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            }
            .section {
                display: none;
            }
            .section.active {
                display: block;
            }
            .thank-you-message {
                display: none;
                font-size: 20px;
                font-weight: bold;
                text-align: center;
                margin-top: 20px;
            }
            footer {
                text-align: center;
                padding: 20px;
                background-color: #2c3e50;
                color: white;
            }
        </style>
    </head>
    <body>
        <header>
            <img src="logo.png" alt="Logo" width="130" height="80" onclick="location.href='index.html';">
            <nav>
                <a href="index.html">Home</a>
                <a href="forms.html">Forms</a>
                <a href="contact.html">Contact Us</a>
            </nav>
        </header>
        <section>
            <div class="container">
                <form id="customForm" onsubmit="return showThankYouMessage();">
    `;

    for (let s = 1; s < sectionCounter; s++) {
        const sectionBlock = document.getElementById(`sectionBlock${s}`);
        if (!sectionBlock) continue;

        formHTML += `<div id="section${s}" class="section${s === 1 ? ' active' : ''}">`;
        formHTML += `<h2>Section ${s}</h2>`;

        const questionsSection = sectionBlock.querySelectorAll('.question-block');
        questionsSection.forEach((questionBlock) => {
            const questionId = questionBlock.id.replace('questionBlock', '');
            const questionText = questionBlock.querySelector(`input[type="text"]`).value;
            const questionType = questionBlock.querySelector('select').value;

            formHTML += `<div id="question${questionId}" class="question-block">`;
            formHTML += `<label>${questionText}</label><br>`;

            if (questionType === 'text') {
                formHTML += `<input type="text" id="answer${questionId}"><br><br>`;
            } else if (questionType === 'radio') {
                formHTML += `
                    <input type="radio" id="answer${questionId}_yes" name="answer${questionId}" value="yes">
                    <label for="answer${questionId}_yes">Yes</label><br>
                    <input type="radio" id="answer${questionId}_no" name="answer${questionId}" value="no">
                    <label for="answer${questionId}_no">No</label><br><br>
                `;
            } else if (questionType === 'dropdown') {
                formHTML += `<select id="answer${questionId}">`;
                const options = questionBlock.querySelectorAll(`#dropdownOptions${questionId} input`);
                options.forEach(option => {
                    formHTML += `<option value="${option.value}">${option.value}</option>`;
                });
                formHTML += `</select><br><br>`;
            } else if (questionType === 'checkbox') {
                const options = questionBlock.querySelectorAll(`#checkboxOptions${questionId} input`);
                options.forEach((option, index) => {
                    formHTML += `<input type="checkbox" id="answer${questionId}_${index + 1}" name="answer${questionId}" value="${option.value}"> ${option.value}<br>`;
                });
                formHTML += `<br>`;
            } else if (questionType === 'numbered-dropdown') {
                const range = document.getElementById(`numberRange${questionId}`).value;
                const firstLabel = document.getElementById(`firstLabel${questionId}`).value;
                const secondLabel = document.getElementById(`secondLabel${questionId}`).value;

                const [min, max] = range.split('-').map(Number);
                formHTML += `<select id="numberedDropdown${questionId}" onchange="generateNumberedFields(${questionId}, ${min}, ${max}, '${firstLabel}', '${secondLabel}')">`;
                for (let i = min; i <= max; i++) {
                    formHTML += `<option value="${i}">${i}</option>`;
                }
                formHTML += `</select><br><br>`;
                formHTML += `<div id="numberedFields${questionId}"></div>`;
            }

            formHTML += `</div>`;
        });

        formHTML += `
            <div class="navigation-buttons">
                ${s > 1 ? `<button type="button" onclick="navigateSection(${s - 1})">Back</button>` : ''}
                <button type="button" onclick="handleNext(${s})">Next</button>
            </div>
        `;

        formHTML += `</div>`;
    }

    formHTML += `
                </form>
                <div id="thankYouMessage" class="thank-you-message">Thank you for completing the survey</div>
            </div>
        </section>
        <footer>
            &copy; 2024 Custom Form Builder. All rights reserved.
        </footer>
        <script>
            function handleNext(currentSection) {
                const nextSection = currentSection + 1;
                navigateSection(nextSection);
            }

            function navigateSection(sectionNumber) {
                const sections = document.querySelectorAll('.section');
                sections.forEach(section => section.classList.remove('active'));
                document.getElementById('section' + sectionNumber).classList.add('active');
            }

            function showThankYouMessage() {
                document.getElementById('customForm').style.display = 'none';
                document.getElementById('thankYouMessage').style.display = 'block';
                return false; // Prevent actual form submission
            }

            function generateNumberedFields(questionId, min, max, firstLabel, secondLabel) {
                const selectedNumber = document.getElementById('numberedDropdown' + questionId).value;
                const container = document.getElementById('numberedFields' + questionId);
                container.innerHTML = '';
                for (let i = 1; i <= selectedNumber; i++) {
                    container.innerHTML += \`
                        <label>\${firstLabel} \${i}:</label>
                        <input type="text" name="firstLabel\${questionId}_\${i}"><br>
                        <label>\${secondLabel} \${i}:</label>
                        <input type="text" name="secondLabel\${questionId}_\${i}"><br><br>
                    \`;
                }
            }
        <\/script>
    </body>
    </html>
    `;

    downloadHTML(formHTML, "custom_form.html");
}


        function previewForm() {
            let formHTML = `
            <!DOCTYPE html>
            <html lang="en">
            <head>
                <meta charset="UTF-8">
                <meta name="viewport" content="width=device-width, initial-scale=1.0">
                <title>Preview Custom Form</title>
                <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
                <style>
                    /* Insert the same CSS styles from the GUI */
                    html, body {
                        height: 100%;
                        margin: 0;
                        display: flex;
                        flex-direction: column;
                        font-family: 'Montserrat', sans-serif;
                        color: #333;
                        background-color: #f4f4f4;
                    }
                    header {
                        background-color: #2c3e50;
                        padding: 20px;
                        display: flex;
                        align-items: center;
                        justify-content: space-between;
                        position: relative;
                    }
                    header img {
                        cursor: pointer;
                    }
                    nav {
                        position: absolute;
                        left: 50%;
                        transform: translateX(-50%);
                        display: flex;
                        gap: 15px;
                    }
                    nav a {
                        color: #ffffff;
                        text-decoration: none;
                        font-weight: bold;
                        transition: color 0.3s ease;
                    }
                    nav a:hover {
                        color: #2980b9;
                    }
                    section {
                        flex: 1;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        text-align: center;
                    }
                    section h1 {
                        color: #2980b9;
                        font-weight: normal;
                    }
                    .container {
                        width: 50%;
                        margin: auto;
                        background-color: #ffffff;
                        padding: 20px;
                        border-radius: 8px;
                        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
                    }
                    .section {
                        display: none;
                    }
                    .section.active {
                        display: block;
                    }
                    .thank-you-message {
                        display: none;
                        font-size: 20px;
                        font-weight: bold;
                        text-align: center;
                        margin-top: 20px;
                    }
                    footer {
                        text-align: center;
                        padding: 20px;
                        background-color: #2c3e50;
                        color: white;
                    }
                </style>
            </head>
            <body>
                <header>
                    <img src="logo.png" alt="Logo" width="130" height="80" onclick="location.href='index.html';">
                    <nav>
                        <a href="index.html">Home</a>
                        <a href="forms.html">Forms</a>
                        <a href="contact.html">Contact Us</a>
                    </nav>
                </header>
                <section>
                    <div class="container">
                        <form id="customForm" onsubmit="return showThankYouMessage();">
            `;

            for (let s = 1; s < sectionCounter; s++) {
                const sectionBlock = document.getElementById(`sectionBlock${s}`);
                if (!sectionBlock) continue;

                formHTML += `<div id="section${s}" class="section${s === 1 ? ' active' : ''}">`;
                formHTML += `<h2>Section ${s}</h2>`;

                const questionsSection = sectionBlock.querySelectorAll('.question-block');
                questionsSection.forEach((questionBlock) => {
                    const questionId = questionBlock.id.replace('questionBlock', '');
                    const questionText = questionBlock.querySelector(`input[type="text"]`).value;
                    const questionType = questionBlock.querySelector('select').value;

                    formHTML += `<div id="question${questionId}" class="question-block">`;
                    formHTML += `<label>${questionText}</label><br>`;

                    if (questionType === 'text') {
                        formHTML += `<input type="text" id="answer${questionId}"><br><br>`;
                    } else if (questionType === 'radio') {
                        formHTML += `
                            <input type="radio" id="answer${questionId}_yes" name="answer${questionId}" value="yes">
                            <label for="answer${questionId}_yes">Yes</label><br>
                            <input type="radio" id="answer${questionId}_no" name="answer${questionId}" value="no">
                            <label for="answer${questionId}_no">No</label><br><br>
                        `;
                    } else if (questionType === 'dropdown') {
                        formHTML += `<select id="answer${questionId}">`;
                        const options = questionBlock.querySelectorAll(`#dropdownOptions${questionId} input`);
                        options.forEach(option => {
                            formHTML += `<option value="${option.value}">${option.value}</option>`;
                        });
                        formHTML += `</select><br><br>`;
                    } else if (questionType === 'checkbox') {
                        const options = questionBlock.querySelectorAll(`#checkboxOptions${questionId} input`);
                        options.forEach((option, index) => {
                            formHTML += `<input type="checkbox" id="answer${questionId}_${index + 1}" name="answer${questionId}" value="${option.value}"> ${option.value}<br>`;
                        });
                        formHTML += `<br>`;
                    } else if (questionType === 'numbered-dropdown') {
                        const range = document.getElementById(`numberRange${questionId}`).value;
                        const firstLabel = document.getElementById(`firstLabel${questionId}`).value;
                        const secondLabel = document.getElementById(`secondLabel${questionId}`).value;

                        const [min, max] = range.split('-').map(Number);
                        formHTML += `<select id="numberedDropdown${questionId}" onchange="generateNumberedFields(${questionId}, ${min}, ${max}, '${firstLabel}', '${secondLabel}')">`;
                        for (let i = min; i <= max; i++) {
                            formHTML += `<option value="${i}">${i}</option>`;
                        }
                        formHTML += `</select><br><br>`;
                        formHTML += `<div id="numberedFields${questionId}"></div>`;
                    }

                    formHTML += `</div>`;
                });

                formHTML += `
                    <div class="navigation-buttons">
                        ${s > 1 ? `<button type="button" onclick="navigateSection(${s - 1})">Back</button>` : ''}
                        <button type="button" onclick="handleNext(${s})">Next</button>
                    </div>
                `;

                formHTML += `</div>`;
            }

            formHTML += `
                        </form>
                        <div id="thankYouMessage" class="thank-you-message">Thank you for completing the survey</div>
                    </div>
                </section>
                <footer>
                    &copy; 2024 Custom Form Builder. All rights reserved.
                </footer>
                <script>
                    function handleNext(currentSection) {
                        const nextSection = currentSection + 1;
                        navigateSection(nextSection);
                    }

                    function navigateSection(sectionNumber) {
                        const sections = document.querySelectorAll('.section');
                        sections.forEach(section => section.classList.remove('active'));
                        document.getElementById('section' + sectionNumber).classList.add('active');
                    }

                    function showThankYouMessage() {
                        document.getElementById('customForm').style.display = 'none';
                        document.getElementById('thankYouMessage').style.display = 'block';
                        return false; // Prevent actual form submission
                    }

                    function generateNumberedFields(questionId, min, max, firstLabel, secondLabel) {
                        const selectedNumber = document.getElementById('numberedDropdown' + questionId).value;
                        const container = document.getElementById('numberedFields' + questionId);
                        container.innerHTML = '';
                        for (let i = 1; i <= selectedNumber; i++) {
                            container.innerHTML += \`
                                <label>\${firstLabel} \${i}:</label>
                                <input type="text" name="firstLabel${questionId}_\${i}"><br>
                                <label>\${secondLabel} \${i}:</label>
                                <input type="text" name="secondLabel${questionId}_\${i}"><br><br>
                            \`;
                        }
                    }
                <\/script>
            </body>
            </html>
            `;

            const previewWindow = window.open("", "Form Preview", "width=800,height=600");
            previewWindow.document.write(formHTML);
            previewWindow.document.close();
        }

        function downloadHTML(content, filename) {
            const blob = new Blob([content], { type: "text/html" });
            const url = URL.createObjectURL(blob);
            const a = document.createElement("a");
            a.href = url;
            a.download = filename;
            a.click();
            URL.revokeObjectURL(url);
        }
    </script>
</body>
</html>
